<!DOCTYPE html> <html lang=en> <head> <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MVXG5LZ');</script> <meta charset=utf-8> <meta http-equiv=x-ua-compatible content="ie=edge"> <meta name=viewport content="width=device-width,initial-scale=1.0"> <title>Recommended FHIR API Implementation Principles | The Datica Academy</title> <meta name=description content="The FHIR standard is based on API routes but what should the API route look like? Learn general design principles and guidelines to build RESTful APIs."> <meta name=topic content="Recommended FHIR API Implementation Principles | The Datica Academy"> <meta name=classification content=website> <meta name=url content="https://datica.com"> <meta name=keywords content="heathcare, FHIR"> <meta name=coverage content=Worldwide> <meta name=distribution content=Global> <meta name=author content="Mohan Balachandran"> <meta property="article:published_time" content="May 26, 2015"> <meta property="og:description" content="The FHIR standard is based on API routes but what should the API route look like? Learn general design principles and guidelines to build RESTful APIs."> <meta property="og:title" content="Recommended FHIR API Implementation Principles | The Datica Academy"> <meta itemprop="og:headline" content="Recommended FHIR API Implementation Principles | The Datica Academy"/> <meta property="og:type" content=article> <meta property="og:url" content="https://datica.com/academy/recommended-fhir-api-implementation-principles/"> <meta property="og:locale" content=en_US> <meta property="twitter:site" content="@daticahealth"> <meta property="twitter:creator" content="@daticahealth"> <meta property="twitter:title" content="Recommended FHIR API Implementation Principles | The Datica Academy"> <meta property="twitter:description" content="The FHIR standard is based on API routes but what should the API route look like? Learn general design principles and guidelines to build RESTful APIs."> <meta class=swiftype name=title data-type=string content="Recommended FHIR API Implementation Principles | The Datica Academy"/> <meta class=swiftype name=body data-type=text content="The FHIR standard is based on API routes but what should the API route look like? Learn general design principles and guidelines to build RESTful APIs."/> <meta class=swiftype name=url data-type=enum content="https://datica.com/academy/recommended-fhir-api-implementation-principles/"/> <meta class=swiftype name=tags data-type=string content=FHIR /> <link rel=canonical href="https://datica.com/academy/recommended-fhir-api-implementation-principles/"> <meta property="og:image" content="https://images.contentful.com/189dvqdsjh46/NL2SgI83KesMS86cWO44y/e908972bb9193eec594b639881e25e6f/academy-share-default.jpg?w=800"> <meta property="twitter:card" content="https://images.contentful.com/189dvqdsjh46/NL2SgI83KesMS86cWO44y/e908972bb9193eec594b639881e25e6f/academy-share-default.jpg?w=800"> <meta property="twitter:image" content="https://images.contentful.com/189dvqdsjh46/NL2SgI83KesMS86cWO44y/e908972bb9193eec594b639881e25e6f/academy-share-default.jpg?w=800"> <link rel=canonical href="https://datica.com/academy/recommended-fhir-api-implementation-principles/"> <link rel=apple-touch-icon sizes=180x180 href="/apple-touch-icon.png?v=pgq8XMxkpy"> <link rel=icon type="image/png" sizes=32x32 href="/favicon-32x32.png?v=pgq8XMxkpy"> <link rel=icon type="image/png" sizes=16x16 href="/favicon-16x16.png?v=pgq8XMxkpy"> <link rel=manifest href="/manifest.json?v=pgq8XMxkpy"> <link rel=mask-icon href="/safari-pinned-tab.svg?v=pgq8XMxkpy" color="#1055ff"> <link rel="shortcut icon" href="/favicon.ico?v=pgq8XMxkpy"> <meta name=theme-color content="#dadada"> <link href="/public/css/seldon.css" rel=stylesheet /> </head> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVXG5LZ" height=0 width=0 style="display:none;visibility:hidden"></iframe></noscript> <body class="academy academy_recommended-fhir-api-implementation-principles academy_recommended-fhir-api-implementation-principles_index"> <style>
    #article-body h2 a, h3 a {color: #252828;}
    #article-body h2 a {font-weight: 400;}
</style> <div class=container-color--gray-light> <header class="main-header main-header"> <a href="/" class=logo title="Datica Home"></a> <nav class=left> <div class=hide-for-large> <div class="group input-nav input-nav--white"> <span class=input-nav--icon><i class="fa fa-search"></i></span> <input type=search class=eng-blog-search placeholder=Search autocomplete=yes> </div> <a href="/contact" class="expanded button button--light">Contact us</a> </div> <a href="/platform" title="Datica's Platform" class=menu-item--simple>Platform</a> <a href="/services" title="Datica's Professional Services" class=menu-item--simple>Services</a> <a href="/pricing" title="Pricing Information" class=menu-item--simple>Pricing</a> </nav> <nav class=right> <div class="a dropdown-container" id=resourcesDropdown> <span class=selector>Resources <svg xmlns="http://www.w3.org/2000/svg" width=24 height=32 viewBox="0 0 24 32" class="dropdown-pip icon-inline" preserveAspectRatio="xMidYMid meet"><title>triangle-down2</title><path d="M0 12l11.992 11.992L23.984 12H0z"/></svg> </span> <div class="dropdown dropdown-resources drop dropdown-list--block"> <div class=container-color--white> <ul class="no-bullet dropdown-group"> <li class="dropdown-group--item no-wrap"> <a href="/dhsf" title="The framework for teams building digital health products" class=dropdown-item--link>Digital Health Success Framework</a> </li> <li class="dropdown-group--item no-wrap"> <a href="/innovation" title="Original articles and podcasts from leaders on digital transformation, trends, and innovation in the healthcare environment." class=dropdown-item--link>Innovation Hub</a> </li> <li class="dropdown-group--item no-wrap"> <a href="/academy" title="The definitive resource for those looking to learn about Compliance and Interoperability." class=dropdown-item--link aria-current=page>HIPAA Academy</a> </li> </ul> <hr class=hr> <div class=list-title>Learn More:</div> <ul class="no-bullet dropdown-group"> <li class=dropdown-group--item> <a class=dropdown-item--link href="/discover/ehr-integrations" title="Discover EHR Integrations">EHR Integrations</a> </li> <li class=dropdown-group--item> <a class=dropdown-item--link href="/discover/gdpr" title="Discover GDPR Compliance Overview">GDPR Compliance Overview</a> </li> <li class=dropdown-group--item> <a class=dropdown-item--link href="/discover/hipaa-compliance" title="Discover HIPAA Compliance">HIPAA Compliance</a> </li> <li class=dropdown-group--item> <a class=dropdown-item--link href="/discover/aws-hipaa" title="Discover HIPAA Compliance on AWS">HIPAA Compliance on AWS</a> </li> <li class=dropdown-group--item> <a class=dropdown-item--link href="/discover/hitrust" title="Discover HITRUST">HITRUST</a> </li> <li class=dropdown-group--item> <a class=dropdown-item--link href="/discover/healthcare-cloud" title="Discover Healthcare Cloud">Healthcare Cloud</a> </li> </ul> <hr class=hr> <ul class="no-bullet dropdown-group"> <li class="dropdown-group--item no-wrap"> <a href="/blog" title="News and notes from the Datica team" class=dropdown-item--link>Company Blog</a> </li> </ul> </div> </div> </div> <div class="a dropdown-container" id=companyDropdown> <span class=selector>Company <svg xmlns="http://www.w3.org/2000/svg" width=24 height=32 viewBox="0 0 24 32" class="dropdown-pip icon-inline" preserveAspectRatio="xMidYMid meet"><title>triangle-down2</title><path d="M0 12l11.992 11.992L23.984 12H0z"/></svg> </span> <div class="dropdown dropdown-company drop dropdown-list--block"> <div class=container-color--white> <ul class="no-bullet dropdown-group"> <li class="dropdown-group--item no-wrap"> <a href="/about" title="Background on the company" class=dropdown-item--link>About Us</a> </li> <li class="dropdown-group--item no-wrap"> <a href="/leadership" title="The team guiding Datica" class=dropdown-item--link>Leadership</a> </li> <li class="dropdown-group--item no-wrap"> <a href="/careers" title="Job opportunities at Datica" class=dropdown-item--link>Careers</a> </li> <li class="dropdown-group--item no-wrap"> <a href="/press" title="Full press background, and information for media outlets" class=dropdown-item--link>Press</a> </li> <li class="dropdown-group--item no-wrap"> <a href="/events" title="Datica events, past and future." class=dropdown-item--link>Events</a> </li> <li class="dropdown-group--item no-wrap"> <a href="/open-source" title="We believe in the importance of open source." class=dropdown-item--link>Open Source</a> </li> </ul> <hr class=hr> <ul class="no-bullet dropdown-group"> <li class="dropdown-group--item no-wrap"> <a href="https://policy.datica.com" title="Our company policies" class=dropdown-item--link>Company Policies</a> </li> <li class="dropdown-group--item no-wrap"> <a href="https://training.datica.com" title="Our training policies" class=dropdown-item--link>Our BAA</a> </li> <li class="dropdown-group--item no-wrap"> <a href="https://hipaa.datica.com" title="How we map to HIPAA's rules" class=dropdown-item--link>HIPAA Mappings</a> </li> </ul> </div> </div> </div> <div class="a dropdown-container" id=customerDropdown> <span class=selector>Help <svg xmlns="http://www.w3.org/2000/svg" width=24 height=32 viewBox="0 0 24 32" class="dropdown-pip icon-inline" preserveAspectRatio="xMidYMid meet"><title>triangle-down2</title><path d="M0 12l11.992 11.992L23.984 12H0z"/></svg> </span> <div class="dropdown dropdown-customer drop dropdown-list--block"> <div class=container-color--white> <ul class="no-bullet dropdown-group"> <li class="dropdown-group--item no-wrap"> <a href="https://help.datica.com" title="Documentation across all Datica products" class=dropdown-item--link>Documentation</a> </li> <li class="dropdown-group--item no-wrap"> <a href="https://help.datica.com" title="Support for Datica customers" class=dropdown-item--link>Support</a> </li> <li class="dropdown-group--item no-wrap"> <a href="http://status.datica.com" title="System up time and alerts" class=dropdown-item--link>System Status</a> </li> <li class="dropdown-group--item no-wrap"> <a href="https://help.datica.com/hc/en-us/sections/115001646346-Engineering-Blog" title="Our engineering team shares bleeding-edge insight on what it takes to build a compliant platform" class=dropdown-item--link>Engineering Blog</a> </li> </ul> </div> </div> </div> <a href="https://product.datica.com" class=menu-item--simple target=_blank>Sign in</a> <a href="/contact" id=topNavCTA class="button success">Contact us</a> </nav> <div class=mobile-menu> <svg xmlns="http://www.w3.org/2000/svg" width=18 height=18 viewBox="0 0 18 18" class="icon-size--medium svg-color--white" preserveAspectRatio="xMidYMid meet"><path d="M2 13.5h14V12H2v1.5zm0-4h14V8H2v1.5zM2 4v1.5h14V4H2z"/></svg> </div> </header> <section class=section-article> <div class=row> <div class="columns small-12 medium-8 featured-post"> <h1 class=headline-2>Recommended FHIR API Implementation Principles</h1> <div class="media-object card-person"> <div class="media-object-section media-object--avatar"><img src="//images.ctfassets.net/189dvqdsjh46/2xzeMZo9aYQQQk6KiqiOsG/133e18144c864de6189daec280c71747/prof-mohan.jpg?f=face&fit=thumb&w=128&h=128&fm=jpg&q=60" class="avatar avatar--large circle" alt="Mohan Balachandran"></div> <div class="media-object-section media-object--info main-section align-self-middle"> <div class=person-name> Mohan Balachandran </div> <p class="person-title nomargin">Co-Founder</p> </div> </div> <p class=lead> <span class=blog-date> May 26, 2015 </span> &nbsp;|&nbsp; <span class="label label-hollow round">FHIR</span> </p> </div> </div> </section> </div> <section class="section-article container-color--white"> <div class=row> <div class="columns small-12 large-8"> <article id=content> <div id=article-toc class=group></div> <div id=article-body class=content-dynamic> <p>FHIR is based on API routes. What should the API route look like? The only legitimate link that a quick Google search produces is the Open Epic link. If you haven’t already, I strongly recommend that you sign up <a href="http://open.epic.com/">here</a>.</p> <p>Epic has (for now, I’m sure, as they explore the new FHIR world) chosen to define the API structure as below:</p> <p><code> https://{domain}/{fhir-version}/api/{resourcesName}/{resourceId} </code></p> <p>This is not their intended production route as it does not address potential issues. Perhaps a good way to arrive at what the final API route might look like, it is worthwhile to list out the data needed to be communicated in the API route and the associated impact on the design of the API route itself. Here is the list of possible parameters:</p> <ul> <li>The health system / EHR: This is the domain itself. For example, this would translate to {{domain}} <em>viz</em> daticahealth.com</li> <li>The environment (prod / dev / …):</li> <li>The FHIR version</li> <li>The partner (or should this be better done via an API key?)</li> </ul> <p><code> https://{domain}/fhir/{fhir_version}/{environment}/ </code></p> <p>That will be root or the [base] of all FHIR queries. Additional criteria/parameters will be added on as needed to retrieve the data of interest. For example,</p> <ul> <li>The resource</li> <li>The resource ID</li> </ul> <p>In which case, the <code>{resourcesName}/{resourceId}</code> will be tacked on to the end of the root to give us</p> <p><code> [base]/{resourcesName}/{resourceId} </code></p> <h3 id=general-api-design-principles>General API design principles</h3> <p>Here are a few design principles that we have adopted based on REST best practices.</p> <h4 id=consistency-in-naming-of-routes>1. Consistency in naming of routes</h4> <p>Note that we always use the plural form in the API route. This is just a standard way of denoting it. All resource names in the route will always be in the plural and the specific ID will always be in the singular.</p> <p><code> [base]/{resourcesName}/{resourceId} </code></p> <p>and with a specific example for the patients resource:</p> <p><code> [base]/patients/patientID </code></p> <h4 id=consistency-in-verbs-and-nouns>2. Consistency in “VERBS” and “NOUNS”</h4> <p>In general, there are three sets of routes or “verbs” per “noun” or resource. They all follow the following pattern:</p> <h5 id=actions-for-post--resourcesnameresourceid>Actions for POST : /resourcesName/resourceId</h5> <p><a href="https://catalyze.io/learn/the-fhir-resource-object-the-core-building-block">(Read more about the Resource Object.)</a></p> <p>This route will allow you to create and get all resources specific to that user.</p> <p><code> POST /patients </code> with the associated body will create a patient object. This will also create an internally generated <code>patientId</code> and a <code>createdAt</code> timestamp. Similarly,</p> <p><code> POST /patients/6cdf30cc-e81a-4c21-894f-497c5d9ac222/allergies </code></p> <p>with the associated body will create an allergy object specific to userID <code>6cdf30cc-e81a-4c21-894f-497c5d9ac222</code>. This will also create an internally generated <code>allergyId</code> and a <code>createdAt</code> timestamp.</p> <p><strong>It is important to note that POST actions are unlikely to be supported out of the gate in FHIR implementations but are included in here for completeness.</strong></p> <h5 id=actions-for-get-resourcesnameresourceid-or-resourcesnameparamsvalue>Actions for GET: /resourcesName/resourceId or :/resourcesName?params=value</h5> <p>This route will allow either a specific resource to be returned or based on the parameters supplied, a list of resources. The only caveat is likely to be a patient specific query where the parameters will be restricted: i.e. only a specific set of parameters will be allowed so prevent random searches along the lines of <em>give me all patients who’s last name is Smith</em>. We will delve into this more detail when we look at the patient specific route details in a subsequent section.</p> <p><code> GET /allergies/051d8c27-b0c4-432d-a75d-1070fd877206 </code></p> <p>will return a body with the specific allergy details. In the context of a patient, it is likely that the request being sent must include a minimum set of parameters to return a specific patient rather than a general query as mentioned earlier. A patient query (GET) will look like this:</p> <p><code> GET /patients?lastName=Smith&amp;gender=male&amp;mrn=88776656 </code></p> <p>which will return a patient resource with associated details as long as there is a specific match. If there is no match, then an empty body will be returned or ideally, would not even trigger a response. This is a potentially useful security precaution to ensure that even null responses do not communicate any information.</p> <h5 id=actions-for-put-and-delete-resourcesnameresourceid>Actions for PUT and DELETE: /resourcesName/resourceId</h5> <p>This route will allow you to modify or delete specific resource objects.</p> <p><code> PUT /allergies/051d8c27-b0c4-432d-a75d-1070fd877206 </code></p> <p>with the associated body will update the allergy object with ID <code>051d8c27-b0c4-432d-a75d-1070fd877206</code></p> <p>Since allergies always pertain to a unique patient, the same route could be called as</p> <p><code> PUT /patients/6cdf30cc-e81a-4c21-894f-497c5d9ac222/allergies/051d8c27-b0c4-432d-a75d-1070fd877206 </code></p> <p>Similarly for DELETE,</p> <p><code> DELETE /allergies/051d8c27-b0c4-432d-a75d-1070fd877206 </code></p> <p>with an empty body will delete the allergy object with ID <code>051d8c27-b0c4-432d-a75d-1070fd877206</code> and the equivalent patient oriented route being</p> <p><code> DELETE /patients/6cdf30cc-e81a-4c21-894f-497c5d9ac222/allergies/051d8c27-b0c4-432d-a75d-1070fd877206 </code></p> <p>Since the allergyId is a unique number, the patientId is overkill but is in there to simplify / rationalize the structure and number of routes you need to remember.</p> <p><strong>Again, it is important to note that PUT and DELETE actions are unlikely to be supported out of the gate in FHIR implementations but are included in here for completeness.</strong></p> <h4 id=limiting-which-fields-are-returned-by-the-api>3. Limiting which fields are returned by the API</h4> <p>You won’t always need the full representation of a resource. The ability select and chose returned fields allows you to minimize network traffic and speed up usage of the API. Therefore, we use a fields query parameter that takes a comma separated list of fields to include. For example,</p> <p><code> GET /patients/2f036fb2-80eb-47ee-9d17-b21790f61663?fields=id,name,updatedAt&amp;status=active </code></p> <p>would retrieve just enough information to display a sorted listing of allergies for that specific patient (the <code>-</code> sign sorts results in reverse chronological order).</p> <h4 id=apis-are-rate-limited>4. APIs are rate limited</h4> <p>To prevent abuse, it is standard practice to add some sort of rate limiting to an API. <a href="http://tools.ietf.org/html/rfc6585">RFC 6585</a> introduced a HTTP status code <a href="http://tools.ietf.org/html/rfc6585#section-4">429 Too Many Requests</a> to accommodate this. However, it can be very useful to notify you of your limits before you actually hit it.</p> <p>This is an area that currently lacks standards but has a number of popular conventions using HTTP response headers. At a minimum, include the following headers (using Twitter’s naming conventions because headers typically don’t have mid-word capitalization):</p> <p><code> X-Rate-Limit-Limit - The number of allowed requests in the current period X-Rate-Limit-Remaining - The number of remaining requests in the current period X-Rate-Limit-Reset - The number of seconds left in the current period </code></p> <h4 id=caching---verify-on-https>5. Caching - verify on https</h4> <p>HTTP provides a built-in caching framework. All you have to do is include some additional outbound response headers and do a little validation when you receive some inbound request headers. There are 2 approaches: <a href="http://en.wikipedia.org/wiki/HTTP_ETag">ETag</a> and <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.29">Last-Modified</a>.</p> <ul> <li><strong>ETag</strong>: When generating a request, include an HTTP header ETag containing a hash or checksum of the representation. This value should change whenever the output representation changes. Now, if an inbound HTTP requests contains an If-None-Match header with a matching ETag value, the API should return a 304 Not Modified status code instead of the output representation of the resource.</li> <li><strong>Last-Modified</strong>: This basically works like to ETag, except that it uses timestamps. The response header Last-Modified contains a timestamp in <a href="http://www.ietf.org/rfc/rfc1123.txt">RFC 1123</a> format which is validated against If-Modified-Since. Note that the HTTP spec has had <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3">3 different acceptable date formats</a> and the server should be prepared to accept any one of them.</li> </ul> <h4 id=errors>6. Errors</h4> <p>Just like an HTML error page shows a useful error message to a visitor, an API should provide a useful error message in a known consumable format. The representation of an error should be no different than the representation of any resource, just with its own set of fields. The API should always return sensible HTTP status codes.</p> <p>API errors typically break down into 2 types:</p> <ul> <li><strong>400 series</strong> status codes for client issues &amp;</li> <li><strong>500 series</strong> status codes for server issues.</li> </ul> <p>The API standardizes that all 400 series errors come with consumable JSON error representation. If possible (i.e. if load balancers &amp; reverse proxies can create custom error bodies), this should extend to 500 series status codes.</p> <p>A JSON error body should provide a few things for the developer a useful error message, like a unique error code that can be looked up for more details in the docs, and possibly a detailed description. JSON output representation for something like this would look like:</p> <p><code> { "code" : 1234, "message" : "Something bad happened :(", "description" : "More details about the error here" } </code></p> <h5 id=http-status-codes>HTTP status codes</h5> <p>HTTP defines a bunch of meaningful status codes that can be returned from your API. These can be leveraged to help the API consumers route their responses accordingly.</p> <ul> <li><code>200 OK</code> - Response to a successful GET, PUT, PATCH or DELETE. Can also be used for a POST that doesn’t result in a creation.</li> <li><code>201 Created</code> - (Not applicable). Response to a POST that results in a creation. Should be combined with a Location header pointing to the location of the new resource</li> <li><code>204 No Content</code> - Response to a successful request that won’t be returning a body (like a DELETE request)</li> <li><code>304 Not Modified</code> - Used when HTTP caching headers are in play</li> <li><code>400 Bad Request</code> - The request is malformed, such as if the body does not parse</li> <li><code>401 Unauthorized</code> - When no or invalid authentication details are provided. Also useful to trigger an auth popup if the API is used from a browser</li> <li><code>403 Forbidden</code> - When authentication succeeded but authenticated user doesn’t have access to the resource</li> <li><code>404 Not Found</code> - When a non-existent resource is requested</li> <li><code>405 Method Not Allowed</code> - When an HTTP method is being requested that isn’t allowed for the authenticated user</li> <li><code>410 Gone</code> - Indicates that the resource at this end point is no longer available. Useful as a blanket response for old API versions</li> <li><code>415 Unsupported Media Type</code> - If incorrect content type was provided as part of the request</li> <li><code>422 Unprocessable Entity</code> - Used for validation errors</li> <li><code>429 Too Many Requests</code> - When a request is rejected due to rate limiting</li> </ul> <h4 id=result-filtering-sorting-and-searching>7. Result filtering, sorting and searching</h4> <p>It’s best to keep the base resource URLs as lean as possible. Complex result filters, sorting requirements and advanced searching (when restricted to a single type of resource) can all be easily implemented as query parameters on top of the base URL. Let’s look at these in more detail:</p> <ul> <li><strong>Filtering</strong>: Use a unique query parameter for each field that implements filtering. For example, when requesting a list of allergies from the /allergies endpoint, you may want to limit these to only those in the <code>active</code> state. This could be accomplished with a request like GET /allergies?status=active. Here, status is a query parameter that implements a filter.</li> <li><strong>Sorting</strong>: Similar to filtering, a generic parameter sort can be used to describe sorting rules. We accommodate complex sorting requirements by letting the sort parameter take in a list of comma separated fields, each with a possible unary negative to imply descending sort order. For example <code>GET /allergies?sort=-severity</code> should retrieve a list of allergies in descending order of severity. Similarly, <code>GET /allergies?sort=-severity,created_at</code> should retrieve a list of allergies in descending order of severity. Within a specific severity, older allergies are ordered first.</li> <li><strong>Searching</strong>: When full text search is used as a mechanism of retrieving resource instances for a specific type of resource, it can be exposed on the API as a query parameter on the resource’s endpoint. Let’s say <code>q</code>. Search queries will be passed straight to the search engine and API output will be in the same format as a normal list result.</li> </ul> <p>Combining these together, we can build queries like:</p> <ul> <li>Retrieve all users with recently updated allergies: <code>GET /allergies?sort=-updatedAt</code></li> <li>Retrieve all users with recently updated active allergies: <code>GET /allergies?status=active&amp;sort=-updatedAt</code></li> <li>Retrieve the set of users with highest severity active allergies mentioning the word ‘pollen’: <code>GET /allergies?q=pollen&amp;status=active&amp;sort=-severity,createdAt</code></li> </ul> <h4 id=using-contained-resources-expansion>8. Using Contained Resources (Expansion)</h4> <p>You can use expansion to retrieve particular details about resources in the same response you get when you request a list of users, for instance in a search. This is a perfect example of a contained resource. By using expansion, you avoid the process of retrieving the list and then making additional calls to retrieve details about each item in the list. This is more efficient and helps you avoid running up against the limits of your quota.</p> <p>Patients play a central role in many of the responses returned by resources. For example, queries such as allergy searches, medications all return patient-centric responses. You can expand the patient response format so you can access details about each patient without having to make additional patient resource queries on the individual patients in the response. For example, you can query for patients that match some criteria and at the same time ask the Datica API to extend its response format so that it includes additional details about each patient other than those in the default response format.</p> <h3 id=summary>Summary</h3> <p>These are the general design principles that we have followed at Datica. These are guidelines based on our experience building RESTful APIs and gathered from multiple other sources. The key underlying principles being consistency and adherence with HTTP standards.</p> </div> </article> <ul class="share-icons menu group"> <li class=share--item> <svg class=share--icon-top viewBox="0 0 32 32" preserveAspectRatio="xMidYMid meet"> <use xlink:href="/public/icons/util-icons-sprite.svg#icon-share"></use> </svg> </li> <li class=share--item> <svg class="share--icon icon-size--medium sharer" viewBox="0 0 32 32" preserveAspectRatio="xMidYMid meet" data-sharer=twitter data-title="Recommended FHIR API Implementation Principles | The Datica Academy" data-hashtags=healthcare data-url="https://datica.com/academy/recommended-fhir-api-implementation-principles/" data-image="https://images.contentful.com/189dvqdsjh46/NL2SgI83KesMS86cWO44y/e908972bb9193eec594b639881e25e6f/academy-share-default.jpg?w=800"> <use xlink:href="/public/icons/util-icons-sprite.svg#icon-twitter"></use> </svg> </li> <li class=share--item> <svg class="share--icon icon-size--medium sharer" viewBox="0 0 32 32" preserveAspectRatio="xMidYMid meet" data-sharer=linkedin data-url="https://datica.com/academy/recommended-fhir-api-implementation-principles/"> <use xlink:href="/public/icons/util-icons-sprite.svg#icon-linkedin"></use> </svg> </li> <li class=share--item> <svg class="share--icon icon-size--medium sharer" viewBox="0 0 32 32" preserveAspectRatio="xMidYMid meet" data-sharer=facebook data-url="https://datica.com/academy/recommended-fhir-api-implementation-principles/"> <use xlink:href="/public/icons/util-icons-sprite.svg#icon-facebook"></use> </svg> </li> <li class=share--item> <svg class="share--icon icon-size--medium sharer" viewBox="0 0 32 32" preserveAspectRatio="xMidYMid meet" data-sharer=email data-title="Recommended FHIR API Implementation Principles | The Datica Academy" data-subject="Recommended FHIR API Implementation Principles | The Datica Academy" data-url="https://datica.com/academy/recommended-fhir-api-implementation-principles/"> <use xlink:href="/public/icons/util-icons-sprite.svg#icon-email"></use> </svg> </li> </ul> <aside class="cta callout callout--blue" id=cta> <img src="/public/icons/datica-icons/icons-products/icon-managed-integration.svg" alt=icon class="cta--icon inject-me svg-color--white"> <div class="cta--body cta--body-right"> <h3 class="headline-3 cta--header">Get the TCO Guide to Healthcare Integrations</h3> <p class=cta--desc>This comprehensive guide to computing Total Cost of Ownership (TCO) of healthcare integrations is for anyone involved in EHR integrations who needs to thoroughly understand all the project costs. Use this guide to help with build vs. buy decisions. </p> <a class="button button--cta button--light" data-expand-on-small=true href="https://datica.com/guide/total-cost-of-ownership-of-integrations/" title="Get the TCO Guide to Healthcare Integrations"> Get the Guide <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" class="icon-inline svg-color--blue icon-right" preserveAspectRatio="xMidYMid meet"><title>chevron-right</title><path d="M5 13.71l1.45 1.46L12.59 9 6.42 2.83 5 4.29 9.68 9z"/></svg> </a> </div> </aside> </div> <div class="columns small-12 large-4 section--sidebar" data-sticky-container> <div class=sticky data-sticky data-sticky-on=large data-options="anchor: content;"> <aside class="callout callout--dark group group"> <h4 class=subheader-small>Documentation &amp; Resources</h3> <a class=link--white title="Read Documentation and Resources" href="https://help.datica.com/"> <svg width=50 height=45 viewBox="0 0 50 45" xmlns="http://www.w3.org/2000/svg" class="float-right icon-size--medium svg-color--white" preserveAspectRatio="xMidYMid meet"><title>&gt;_</title><path d="M2.497 0h45.006A2.494 2.494 0 0 1 50 2.5v40c0 1.38-1.114 2.5-2.497 2.5H2.497A2.494 2.494 0 0 1 0 42.5v-40C0 1.12 1.114 0 2.497 0zM1.5 6.245C1.5 5.541 1.817 5 2.496 5h45.008c.688 0 .996.416.996 1.245v36.26c0 .459-.434.995-.996.995H2.496c-.451 0-.996-.386-.996-.995V6.245zm7.063 6.506c-.587-.36-1.063-.088-1.063.596v3.392c0 .69.479 1.553 1.051 1.917l5.937 3.776c.58.37.584.977 0 1.362l-5.937 3.917c-.58.383-1.051 1.258-1.051 1.942v3.392c0 .69.474.952 1.051.59 0 0 14.241-8.828 14.241-10.534 0-1.706-14.229-10.35-14.229-10.35zm14.128 24.432v1.578c0 .684.551 1.239 1.247 1.239h19.815A1.25 1.25 0 0 0 45 38.761v-1.578c0-.685-.551-1.24-1.247-1.24H23.938a1.25 1.25 0 0 0-1.247 1.24z" fill="#000" fill-rule=evenodd /></svg> </a> <p class=no-margin>Looking for technical details and guides? <a class=link--white title="Read Documentation and Resources" href="https://help.datica.com/">Start here <i class="fa fa-angle-right"></i></a></p> </aside> <div class="callout--article container-color--dark group"> <a class=callout--article-link href="/discover/ehr-integrations" title="Discover EHR Integrations"> <div class=callout--article-content> <div class=subheader-small>Discover</div> <h3 class=headline-4>EHR Integrations <i class="callout--article-action fa fa-arrow-circle-right"></i></h3> <div class=callout--article-body> <p class=no-margin>EHR systems are the hub of clinical data and clinical workflows in healthcare today making EHR integrations, like HL7 and FHIR, an essential driver of healthcare transformation. We break it down for you here.</p> </div> </div> <div class="callout--article-image container-image--center" data-interchange="[//images.ctfassets.net/189dvqdsjh46/4BHvViIL7i6omyyOYy8MK2/66021ad2a771faec3a64db69c1cb7442/sparks_at_night_-_wil-stewart-23385.jpg?fit=scale&w=400&h=200&q=35, small], [//images.ctfassets.net/189dvqdsjh46/4BHvViIL7i6omyyOYy8MK2/66021ad2a771faec3a64db69c1cb7442/sparks_at_night_-_wil-stewart-23385.jpg?fit=scale&w=600&h=300&q=55, medium]"></div> </a> </div> <aside class="cta cta--image"> <a class="" title="Get a tour of Datica’s new open-source HL7 APIs and their HIPAA-compliant capabilities with Mark Olschesky, Datica's Chief Data Officer. Join us 12pm CST, December 15th." href="https://content.datica.com/introduction-to-oci-mirth-connect-and-open-source-transforms-dec-15-2017"><img alt="Webinar Dec. 15" data-interchange="[https://images.contentful.com/189dvqdsjh46/1lG3yUYayw6QaecUo4eOK2/23b2806ea2bce848d6bda9f99a868288/webinar-oci-mirth-1-banner-wide.jpg, small],[https://images.contentful.com/189dvqdsjh46/2rm8elo7eYo0M2Y6oQaau2/c52b09c6b159f616dfa76d7d6cd7cfc5/cta-webinar-oci-mirth-1-ad-share.jpg?w=700, large]"></a> </aside> <hr class=content> <aside class="callout callout--gray-light group content-dynamic"> <h4 class="headline-5 text--spaced text-center">Related Articles</h4> <ul class=no-bullet> <li class=""> <a href="/academy/introduction-to-fhir" title="Read this post">Introduction to FHIR</a> <div class=text-smaller><p>The FHIR acronym stands for Fast Healthcare Interoperability Resources. FHIR is a new open sourced interoperability standard of the HL7 organization.</p> </div> </li> <li class=""> <a href="/academy/the-fhir-resource-object-the-core-building-block" title="Read this post">The FHIR Resource Object: The Core Building Block</a> <div class=text-smaller><p>To understand FHIR, you must understand the FHIR Resource Object. This entry will help explain its origins and intent with links to help.</p> </div> </li> </ul> <a class="button hollow" href="/academy" title="All Academy Articles"><i class="fa fa-angle-left"></i> See all Academy articles</a> </aside> </div> </div> </div> </section> <script>
    // create TOC from content scan
    document.addEventListener('DOMContentLoaded', function () {
        var link,
            contents,
            eventEmitter;        
        var contents = gajus.Contents({
            articles: $('#content').find('h2, h3').get()
        });
        eventEmitter = contents.eventEmitter();

        $('#article-toc').append('<hr><p class="subheader-small">In This Article</p>');
        $('#article-toc').append(contents.list());
        $('#article-toc').append('<hr>');
        // $('#article-toc').addClass('group');
    });
</script> <footer class="section-article container-color--gray-gradient main-footer"> <div class="row small-up-2 medium-up-3 large-up-5"> <div class="column group"> <h5 class=headline-6>Platform</h5> <ul class=no-bullet> <li> <a href="/platform" title="The cloud enablement layer for all healthcare applications" class="link--dark faded">Datica Platform</a> <li> <a href="/platform/technology" title="The technology support and capabilities of the Datica platform" class="link--dark faded">Technology Overview</a> <li> <a href="/platform/technology/#integration" title="The full-stack integration toolset for developers" class="link--dark faded">Data Integration</a> <li> <a href="/platform/compliance" title="Datica is HITRUST CSF Certified" class="link--dark faded">Compliance Story</a> <li> <a href="/platform/success" title="Case studies and customer profiles of success" class="link--dark faded">Customer Success</a> <li> <a href="/services" title="Professional services offered by Datica" class="link--dark faded">Services</a> <li> <a href="/pricing" title="Pricing for the Datica platform" class="link--dark faded">Pricing</a> </ul> </div> <div class="column group"> <h5 class=headline-6>Company</h5> <ul class=no-bullet> <li> <a href="/about" title="Background on the company" class="link--dark faded">About Us</a> <li> <a href="/leadership" title="The team guiding Datica" class="link--dark faded">Leadership</a> <li> <a href="/blog" title="News and notes from the Datica team" class="link--dark faded">Company Blog</a> <li> <a href="https://help.datica.com/hc/en-us/sections/115001646346-Engineering-Blog" title="Our engineering team shares bleeding-edge insight on what it takes to build a compliant platform" class="link--dark faded">Engineering Blog</a> <li> <a href="/careers" title="Job opportunities at Datica" class="link--dark faded">Careers</a> <li> <a href="/press" title="Full press background, and information for media outlets" class="link--dark faded">Press</a> <li> <a href="/events" title="Datica events, past and future." class="link--dark faded">Events</a> <li> <a href="/open-source" title="We believe in the importance of open source." class="link--dark faded">Open Source</a> </ul> </div> <div class="column group"> <h5 class=headline-6>Resources</h5> <ul class=no-bullet> <li> <a href="/dhsf" title="The framework for teams building digital health products" class="link--dark faded">Digital Health Success Framework</a> <li> <a href="/discover" title="A Curated Collection of Healthcare Technology Topics from Datica" class="link--dark faded">Discover: Healthcare Topics</a> <li> <a href="/academy" title="The definitive resource for those looking to learn about Compliance and Interoperability" class="link--dark faded" aria-current=page>The Academy</a> <li> <a href="/innovation" title="How does healthcare innovate?" class="link--dark faded">Healthcare Innovators Podcast</a> <li> <a href="/whitepapers" title="A collection of our formal assessment of healthcare topics" class="link--dark faded">White Papers</a> <li> <a href="https://fhir.datica.com" title="Experiment with the FHIR API for free" class="link--dark faded">Mock FHIR API</a> <li> <a href="https://hl7.datica.com" title="Experiment with the HL7 API for free" class="link--dark faded">Mock HL7 API</a> </ul> </div> <div class="column group"> <h5 class=headline-6>Help</h5> <ul class=no-bullet> <li> <a href="https://product.datica.com" title="Sign in to your dashboard" class="link--dark faded">Sign in</a> <li> <a href="https://help.datica.com" title="Documentation &amp; Support across all Datica products" class="link--dark faded">Documentation & Support</a> <li> <a href="http://status.catalyze.io" title="System up time and alerts" class="link--dark faded">System Status</a> </ul> </div> <div class="column group"> <h5 class=headline-6>Legal</h5> <ul class=no-bullet> <li> <a href="https://policy.datica.com" title="Our company policies" class="link--dark faded">Company Policies</a> <li> <a href="https://training.datica.com" title="Our training policies" class="link--dark faded">Compliance Training</a> <li> <a href="https://hipaa.datica.com" title="How we map to HIPAA's rules" class="link--dark faded">HIPAA Mappings</a> <li> <a href="https://privacy.datica.com/" title="This Privacy Statement describes Datica’s Web site privacy practices." class="link--dark faded">Datica Privacy Policy</a> </ul> </div> </div> <div class="row align-justify"> <div class="columns small-12 medium-9 large-10 group"> <ul class=list-horiz> <li> <a href="/" title="Datica Health, Inc main page" class="link--dark faded" aria-current=page>&copy; Datica Health, Inc.</a> <li> <a href="tel:8883773184" title="Tap to call us" class="link--dark faded">(888) 377-3184</a> <li> <a href="mailto:hello@datica.com" title="Email us today" class="link--dark faded">hello@datica.com</a> <li> <a href="https://www.google.com/maps/place/316+W+Washington+Ave+%23900,+Madison,+WI+53703/@43.0730573,-89.3905378,17z/data=!3m1!4b1!4m5!3m4!1s0x88065339c57a9895:0xe80da136f666e278!8m2!3d43.0730573!4d-89.3883491" title="See our location in Google maps" class="link--dark faded">316 W Washington Ave. Suite 900, Madison, WI 53703</a> </ul> <hr class=content> <ul class=list-horiz> <li><img class=logo-size--large src="https://images.contentful.com/189dvqdsjh46/tPI7wEI7zaSEQ2cu6MqOc/7f837591f0a7f85448180a4a1e61158d/logo-hitrust-certified.png?w=200" alt="HITRUST Certified"/>&nbsp; </li> <li><script src='https://www.coalfire.com/CMSPages/Coalfire/CertificateSealJS.aspx?cc=248fe0c0-6343-4785-9cb0-0602a6a82a6c'></script> </li> </ul> </div> </div> </footer> <div class=strip-bright></div> <script src="/public/js/svg-injector.js"></script> <script>
document.addEventListener("DOMContentLoaded", function(event) {
    var mySVGsToInject = document.querySelectorAll('img.inject-me');
    SVGInjector(mySVGsToInject);
});
</script> <script src="/public/js/jquery.js"></script><script src="/public/js/foundation.min.js"></script> <script defer src="/public/js/nav.js"></script> <script defer src="/public/js/smooth-scroll.js"></script> <script async src="/public/js/cookie.js"></script> <script async src="/public/js/sharer.js"></script> <script src="/public/js/all.js"></script> <script src="/public/js/contents.js"></script> <script src="/public/js/smooth-scroll.js"></script> <script src="/public/js/article.js"></script> </body> </html>